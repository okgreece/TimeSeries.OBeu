<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Time series analysis results for OBEU Time series — ts.analysis â€¢ TimeSeries.OBeu</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  <link href="../extra.css" rel="stylesheet">
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-info-circle"></span>
     
    Function Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/TimeSeriesOBeu.html">Time series in OpenBudget.eu</a>
    </li>
    <li>
      <a href="../articles/TimeSeries.OBeuOpenCPU.html">Using TimeSeries.OBeu with OpenCPU</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/okgreece/TimeSeries.OBeu">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Time series analysis results for OBEU Time series</h1>
    </div>

    
    <p>Univariate time series analysis for short and long time series data using the appropriate model.</p>
    

    <pre class="usage"><span class='fu'>ts.analysis</span>(<span class='no'>tsdata</span>, <span class='kw'>x.order</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>prediction.steps</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>tojson</span><span class='kw'>=</span><span class='no'>T</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tsdata</th>
      <td><p>The input univariate time series data</p></td>
    </tr>
    <tr>
      <th>x.order</th>
      <td><p>An integer vector of length 3 specifying the order of the Arima model</p></td>
    </tr>
    <tr>
      <th>prediction.steps</th>
      <td><p>The number of prediction steps</p></td>
    </tr>
    <tr>
      <th>tojson</th>
      <td><p>If TRUE the results are returned in json format, default returns a list</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A json string with the parameters:</p><ul>
<li><p>acf.param</p><ul>
<li><p>acf.parameters:</p><ul>
<li><p>acf The estimated acf values of the input time series</p></li>
<li><p>acf.lag The lags at which the acf is estimated</p></li>
<li><p>confidence.interval.up The upper limit of the confidence interval</p></li>
<li><p>confidence.interval.low The lower limit of the confidence interval</p></li>
</ul></li>
<li><p>pacf.parameters:</p><ul>
<li><p>pacf The estimated pacf values of the input time series</p></li>
<li><p>pacf.lag The lags at which the pacf is estimated</p></li>
<li><p>confidence.interval.up The upper limit of the confidence interval</p></li>
<li><p>confidence.interval.low The lower limit of the confidence interval</p></li>
</ul></li>
<li><p>acf.residuals.parameters:</p><ul>
<li><p>acf.res The estimated acf values of the model residuals</p></li>
<li><p>acf.res.lag The lags at which the acf is estimated of the model residuals</p></li>
<li><p>confidence.interval.up The upper limit of the confidence interval</p></li>
<li><p>confidence.interval.low The lower limit of the confidence interval</p></li>
</ul></li>
<li><p>pacf.residuals.parameters:</p><ul>
<li><p>pacf.res The estimated pacf values of the model residuals</p></li>
<li><p>pacf.res.lag The lags at which the pacf is estimated of the model residuals</p></li>
<li><p>confidence.interval.up The upper limit of the confidence interval</p></li>
<li><p>confidence.interval.low The lower limit of the confidence interval</p></li>
</ul></li>
</ul></li>
<li><p>param</p><ul>
<li><p>stl.plot:</p><ul>
<li><p>trend The estimated trend component</p></li>
<li><p>trend.ci.up The estimated up limit for trend component (for non seasonal time series)</p></li>
<li><p>trend.ci.low The estimated low limit for trend component (for non seasonal time series)</p></li>
<li><p>seasonal The estimated seasonal component</p></li>
<li><p>remainder The estimated remainder component</p></li>
<li><p>time The time of the series was sampled</p></li>
</ul></li>
<li><p>stl.general:</p><ul>
<li><p>stl.degree The degree of fit</p></li>
<li><p>degfr The effective degrees of freedom for non seasonal time series</p></li>
<li><p>degfr.fitted The fitted degrees of freedom for non seasonal time series</p></li>
<li><p>fitted The model's fitted values</p></li>
</ul></li>
<li><p>residuals The residuals of the model (fitted innovations)</p></li>
<li><p>compare:</p><ul>
<li><p>arima.order The Arima order for seasonal time series</p></li>
<li><p>arima.coef A vector of AR, MA and regression coefficients</p></li>
<li><p>arima.coef.se The standard error of the coefficients</p></li>
<li><p>covariance.coef The matrix of the estimated variance of the coefficients</p></li>
<li><p>resid.variance The residuals variance</p></li>
<li><p>not.used.obs The number of not used observations for the fitting</p></li>
<li><p>used.obs The used observations for the fitting</p></li>
<li><p>loglik The maximized log-likelihood (of the differenced data), or the approximation to it used</p></li>
<li><p>aic The AIC value corresponding to the log-likelihood</p></li>
<li><p>bic The BIC value corresponding to the log-likelihood</p></li>
<li><p>gcv The generalized cross-validation statistic   time series</p></li>
<li><p>aicc The second-order Akaike Information Criterion corresponding to the log-likelihood
 for seasonal time series</p></li>
</ul></li>
</ul></li>
<li><p>forecasts</p><ul>
<li><p>ts.model a string indicating the arima orders</p></li>
<li><p>data_year The time that time series data were sampled</p></li>
<li><p>data The time series values</p></li>
<li><p>predict_time The time that defined by the prediction_steps parameter</p></li>
<li><p>predict_values The predicted values that defined by the prediction_steps parameter</p></li>
<li><p>up80 The upper limit of the 80% predicted confidence interval</p></li>
<li><p>low80 The lower limit of the 80% predicted confidence interval</p></li>
<li><p>up95 The upper limit of the 95% predicted confidence interval</p></li>
<li><p>low95 The lower limit of the 95% predicted confidence interval</p></li>
</ul></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function automatically tests for stationarity of the input time series data using <code><a href='ts.stationary.test.html'>ts.stationary.test</a></code>
function. Depending the nature of the time series data and the stationary tests there are four branches:
a.)short and non seasonal, b.)short and seasonal, c.)long and non seasonal and d.)long and seasonal.
For branches a and c <code><a href='ts.non.seas.model.html'>ts.non.seas.model</a></code> is used and for b and d <code><a href='ts.seasonal.model.html'>ts.seasonal.model</a></code> is used.</p>
<p>This function also decomposes both seasonal and non seasonal time series through <code><a href='ts.non.seas.decomp.html'>ts.non.seas.decomp</a></code> and 
<code><a href='ts.seasonal.decomp.html'>ts.seasonal.decomp</a></code> and forecasts h steps ahead the user selected(default h=1) using <code><a href='ts.forecast.html'>ts.forecast</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='ts.stationary.test.html'>ts.stationary.test</a></code>, <code><a href='ts.acf.html'>ts.acf</a></code>, <code><a href='ts.seasonal.model.html'>ts.seasonal.model</a></code>, <code><a href='ts.seasonal.decomp.html'>ts.seasonal.decomp</a></code>,
<code><a href='ts.non.seas.model.html'>ts.non.seas.model</a></code>, <code><a href='ts.non.seas.decomp.html'>ts.non.seas.decomp</a></code>, <code><a href='ts.forecast.html'>ts.forecast</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>ts.analysis</span>(<span class='no'>Athens_draft_ts</span>, <span class='kw'>prediction.steps</span><span class='kw'>=</span><span class='fl'>3</span>)</div><div class='output co'>#&gt; {"acf.param":{"acf.parameters":{"acf":[1,0.6701,0.2048,-0.2919,-0.5127,-0.5143,-0.282,-0.0182,0.1093,0.091,0.0325],"acf.lag":[0,1,2,3,4,5,6,7,8,9,10],"confidence.interval.up":[0.5658],"confidence.interval.low":[-0.5658]},"pacf.parameters":{"pacf":[0.6701,-0.4433,-0.4358,0.0271,-0.1179,0.0163,-0.0433,-0.2771,-0.1221,0.0503],"pacf.lag":[1,2,3,4,5,6,7,8,9,10],"confidence.interval.up":[0.5658],"confidence.interval.low":[-0.5658]},"acf.residuals.parameters":{"acf.residuals":[1,0.843,0.7463,0.5848,0.4491,0.2929,0.1525,0.006,-0.1366,-0.2598,-0.3856,-0.4905,-0.6126,-0.5635,-0.522,-0.4455],"acf.residuals.lag":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],"confidence.interval.up":[0.5658],"confidence.interval.low":[-0.5658]},"pacf.residuals.parameters":{"pacf.residuals":[0.843,0.1231,-0.2484,-0.0772,-0.1179,-0.0931,-0.1185,-0.1479,-0.0829,-0.1589,-0.1436,-0.2656,0.4077,0.159,-0.1307],"pacf.residuals.lag":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],"confidence.interval.up":[0.5658],"confidence.interval.low":[-0.5658]}},"decomposition":{"stl.plot":{"trend":[698958230.0959,656722462.4698,666934797.6034,720359312.9533,825103477.7027,927286963.4796,955162556.072,901594076.3243,826636813.9483,777095660.2212,749465108.9076,753417720.7148],"conf.interval.up":[799474104.4628,718316873.2136,728193402.4122,787153597.0524,894791906.2167,998843432.4668,1026719025.0592,971282504.8383,893431098.0473,838354265.03,811059519.6515,853933595.0817],"conf.interval.low":[598442355.729,595128051.7259,605676192.7946,653565028.8543,755415049.1887,855730494.4925,883606087.0849,831905647.8104,759842529.8492,715837055.4123,687870698.1638,652901846.3479],"seasonal":{},"remainder":[21936769.9041,-27785462.4698,-48384797.6034,4470687.0467,33838522.2973,-7778963.4796,22325443.928,30012923.6757,39880579.0517,-109987660.2212,23957446.0924,6141563.2852],"time":[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015]},"stl.general":{"degfr":[5.4179],"degfr.fitted":[5.1011],"stl.degree":[2]},"residuals_fitted":{"residuals":[21936769.9041,-27785462.4698,-48384797.6034,4470687.0467,33838522.2973,-7778963.4796,22325443.928,30012923.6757,39880579.0517,-109987660.2212,23957446.0924,6141563.2852],"fitted":[698958230.0959,656722462.4698,666934797.6034,720359312.9533,825103477.7027,927286963.4796,955162556.072,901594076.3243,826636813.9483,777095660.2212,749465108.9076,753417720.7148],"time":[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015],"line":[0]},"compare":{"resid.variance":[1.86531930797979e+015],"used.obs":[2004,2015,2009.5,2006.75,2012.25],"loglik":[-1.02592561938889e+016],"aic":[2.05185123877777e+016],"bic":[2.05185123877777e+016],"gcv":[5.68320742803746e+015]}},"model.param":{"model":{"arima.order":[1,1,0,0,1,1,0],"arima.coef":[0.1441,0.0153],"arima.coef.se":[0.8665,0.8392]},"residuals_fitted":{"residuals":[720894.6302,-90787238.6325,4239112.9372,107712202.5897,117144839.4241,39442974.6622,48646734.4435,-54982432.2565,-57635036.0029,-189145649.1128,137951183.7204,-31298309.7508],"fitted":[720174105.3698,719724238.6325,614310887.0628,617117797.4103,741797160.5759,880065025.3378,928841265.5565,986589432.2565,924152429.0029,856253649.1128,635471371.2796,790857593.7508],"time":[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015],"line":[0]},"compare":{"resid.variance":[1.10709947302236e+016],"variance.coef":[[0.7508,-0.6832],[-0.6832,0.7043]],"not.used.obs":[0],"used.obs":[11],"loglik":[-217.7045],"aic":[441.409],"bic":[442.6027],"aicc":[444.8376]}},"forecasts":{"ts.model":["ARIMA(1,1,1)"],"data_year":[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015],"data":[720895000,628937000,618550000,724830000,858942000,919508000,977488000,931607000,866517393,667108000,773422555,759559284],"predict_time":[2016,2017,2018],"predict_values":[757082034.9521,756724985.1315,756673522.9766],"up80":[891925345.8547,963185026.4698,1017532317.1036],"low80":[622238724.0495,550264943.7933,495814728.8496],"up95":[963307082.801,1072478370.4413,1155622621.3081],"low95":[550856987.1032,440971599.8218,357724424.6451]}} </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Kleanthis Koupidis

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/kleanthisk10'>Kleanthis Koupidis</a>, <a href='https://github.com/cbratsas'>Charalampos Bratsas</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
